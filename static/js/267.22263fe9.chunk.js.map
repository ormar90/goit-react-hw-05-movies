{"version":3,"file":"static/js/267.22263fe9.chunk.js","mappings":"gRA8DA,EAvDkB,WAAO,IAAD,EACtB,GAA4BA,EAAAA,EAAAA,UAAS,IAArC,eAAOC,EAAP,KAAeC,EAAf,KACA,GAAsCC,EAAAA,EAAAA,MAAtC,eAAOC,EAAP,KAAoBC,EAApB,KACA,GAIIC,EAAAA,EAAAA,IAAQ,CACVC,cAAe,CACbC,MAAO,MALTC,EADF,EACEA,SACAC,EAFF,EAEEA,aACAC,EAHF,EAGEA,MAMIC,EAAK,UAAGR,EAAYS,IAAI,iBAAnB,QAAgC,IAE3CC,EAAAA,EAAAA,YAAU,WACR,GAAc,KAAVF,EAAJ,CAGA,IAAMG,EAAW,mCAAG,gHAEUC,EAAAA,EAAAA,IAAaJ,GAFvB,gBAERK,EAFQ,EAERA,QACRf,EAAUe,GACVN,EAAM,CAAEH,MAAO,KAJC,gDAMhBU,QAAQC,IAAI,KAAMC,SANF,yDAAH,qDASjBL,GAVC,CAWF,GAAE,CAACH,EAAOD,EAAOP,IAMlB,OACE,iCACE,kBAAMiB,SAAUX,GANH,SAAAY,GACfjB,EAA8B,KAAfiB,EAAKd,MAAe,CAAEe,OAAQD,EAAKd,OAAU,CAAC,EAC9D,IAIG,WACE,4BAAWC,EAAS,YACpB,mBAAQe,KAAK,SAAb,uBAEDvB,EAAOwB,OAAS,GAAKb,IACpB,0BACKX,EAAOyB,KAAI,YAAoB,IAAjBC,EAAgB,EAAhBA,GAAIC,EAAY,EAAZA,MACjB,OACE,yBACE,SAAC,KAAD,CAASC,GAAE,UAAKF,GAAhB,SAAuBC,KADhBD,EAIZ,IAAG,SAKf,E,SC3CD,EAbe,WACb,IAAQG,GAAYC,EAAAA,EAAAA,MAAZD,QAER,OACE,iCACIA,IAAW,SAAC,EAAD,KACb,SAAC,EAAAE,SAAD,CAAUC,UAAU,wCAApB,UACE,SAAC,KAAD,QAIP,C,8LCbKC,EAAW,gCACXC,EAAU,mCAEVC,EAAW,mCAAG,sGACKC,EAAAA,GAAAA,IAAA,UAClBH,EADkB,sCACoBC,EADpB,YADL,uBACVb,EADU,EACVA,KADU,kBAIXA,GAJW,2CAAH,qDAOXN,EAAY,mCAAG,WAAMJ,GAAN,yFACIyB,EAAAA,GAAAA,IAAA,UAClBH,EADkB,gCACcC,EADd,iCAC8CvB,EAD9C,gCADJ,uBACXU,EADW,EACXA,KADW,kBAIZA,GAJY,2CAAH,sDAOZgB,EAAe,mCAAG,WAAMX,GAAN,yFACCU,EAAAA,GAAAA,IAAA,UAClBH,EADkB,iBACDP,EADC,oBACaQ,EADb,oBADD,uBACdb,EADc,EACdA,KADc,kBAIfA,GAJe,2CAAH,sDAMfiB,EAAe,mCAAG,WAAMZ,GAAN,yFACCU,EAAAA,GAAAA,IAAA,UAClBH,EADkB,iBACDP,EADC,4BACqBQ,EADrB,oBADD,uBACdb,EADc,EACdA,KADc,kBAIfA,GAJe,2CAAH,sDAOfkB,EAAe,mCAAG,WAAMb,GAAN,yFACCU,EAAAA,GAAAA,IAAA,UAClBH,EADkB,iBACDP,EADC,6BACsBQ,EADtB,oBADD,uBACdb,EADc,EACdA,KADc,kBAIfA,GAJe,2CAAH,qD","sources":["components/SearchBox.jsx","pages/Movies.jsx","services/API.js"],"sourcesContent":["import { useState } from \"react\";\nimport { NavLink, useSearchParams } from 'react-router-dom';\n\nimport { useForm } from \"react-hook-form\";\nimport { searchMovies } from \"services/API\";\nimport { useEffect } from \"react\";\n\nconst SearchBox = () => {\n  const [movies, setMovies] = useState([])\n  const [searchParam, setSearchParam] = useSearchParams();\n  const {\n    register,\n    handleSubmit,\n    reset,\n  } = useForm({\n    defaultValues: {\n      movie: '',\n    }\n  });\n  const query = searchParam.get('search') ?? '';\n\n  useEffect(() => {\n    if (query === '') {\n      return;\n    }\n    const fetchMovies = async () => {\n      try {\n        const { results } = await searchMovies(query);\n        setMovies(results);\n        reset({ movie: '' });\n      } catch (error) {\n        console.log(error.message);\n      }\n    }\n    fetchMovies();\n  }, [query, reset, searchParam])\n  \n  const onSubmit = data => {\n    setSearchParam(data.movie !== '' ? { search: data.movie } : {});          \n  }  \n\n  return (\n    <>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <input {...register('movie')} />\n        <button type=\"submit\">Search</button>\n      </form>\n      {movies.length > 0 && query && (\n        <ul>\n            {movies.map(({ id, title }) => {\n              return (\n                <li key={id}>\n                  <NavLink to={`${id}`}>{title}</NavLink>\n                </li>\n              );\n            })}{' '}\n        </ul>\n      )}\n    </>\n  );\n};\n\nexport default SearchBox;","import SearchBox from 'components/SearchBox';\nimport { Suspense } from 'react';\nimport { Outlet, useParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const { movieId } = useParams();\n\n  return (\n    <>\n      {!movieId && <SearchBox />}\n      <Suspense fallback={<div>Loading...</div>}>\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default Movies;","import axios from 'axios';\n\nconst BASE_URL = 'https://api.themoviedb.org/3/';\nconst API_KEY = '248eab561af730ae2789760eff8bc947';\n\nconst getTrending = async () => {\n  const { data } = await axios.get(\n    `${BASE_URL}trending/movie/day?api_key=${API_KEY}&page=1`\n  );\n  return data;\n};\n\nconst searchMovies = async query => {\n  const { data } = await axios.get(\n    `${BASE_URL}search/movie?api_key=${API_KEY}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return data;\n};\n\nconst getMovieDetails = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\nconst getMovieCredits = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}/credits?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nconst getMovieRewievs = async id => {\n  const { data } = await axios.get(\n    `${BASE_URL}movie/${id}//reviews?api_key=${API_KEY}&language=en-US`\n  );\n  return data;\n};\n\nexport {\n  getTrending,\n  searchMovies,\n  getMovieDetails,\n  getMovieCredits,\n  getMovieRewievs,\n};\n"],"names":["useState","movies","setMovies","useSearchParams","searchParam","setSearchParam","useForm","defaultValues","movie","register","handleSubmit","reset","query","get","useEffect","fetchMovies","searchMovies","results","console","log","message","onSubmit","data","search","type","length","map","id","title","to","movieId","useParams","Suspense","fallback","BASE_URL","API_KEY","getTrending","axios","getMovieDetails","getMovieCredits","getMovieRewievs"],"sourceRoot":""}